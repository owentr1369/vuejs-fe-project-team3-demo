{"ast":null,"code":"import { mapActions } from 'vuex';\nexport default {\n  name: \"Register\",\n\n  data() {\n    return {\n      form: {\n        email: \"van100@gmail.com\",\n        password: \"123456\",\n        timezone: \"Asia/Bangkok\",\n        name: \"van\"\n      },\n      formstate: false,\n      is_loading: false\n    };\n  },\n\n  computed: {\n    validation() {\n      const email = {\n        required: this.form.email ? true : false\n      };\n      const password = {\n        required: this.form.password ? true : false\n      };\n      return {\n        form: {\n          email,\n          password\n        },\n        valid: email.required && password.required\n      };\n    }\n\n  },\n  methods: { ...mapActions({\n      login: 'auth/login'\n    }),\n\n    onSubmit() {\n      this.formstate = true;\n      if (this.is_loading || !this.validation.valid) return;\n      this.is_loading = true;\n      this.login(this.form).then(res => {\n        let {\n          status\n        } = res;\n\n        if (status) {\n          this.$router.push({\n            name: 'Dashboard'\n          });\n        }\n\n        this.is_loading = false;\n      }).catch(err => {\n        console.log(err);\n        this.is_loading = false;\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA8BA;AACA;EACAA,gBADA;;EAEAC;IACA;MACAC;QACAC,yBADA;QAEAC,kBAFA;QAGAC,wBAHA;QAIAL;MAJA,CADA;MAOAM,gBAPA;MAQAC;IARA;EAUA,CAbA;;EAcAC;IACAC;MACA;QACAC;MADA;MAGA;QACAA;MADA;MAGA;QACAR;UACAC,KADA;UAEAC;QAFA,CADA;QAKAO;MALA;IAOA;;EAfA,CAdA;EA+BAC,WACA;MACAC;IADA,EADA;;IAIAC;MACA;MACA;MACA;MACA;QACA;UAAAC;QAAA;;QACA;UACA;YACAf;UADA;QAGA;;QACA;MACA,CARA,EASAgB,KATA,CASAC;QACAC;QACA;MACA,CAZA;IAaA;;EArBA;AA/BA","names":["name","data","form","email","password","timezone","formstate","is_loading","computed","validation","required","valid","methods","login","onSubmit","status","catch","err","console"],"sourceRoot":"src/modules/auth/views","sources":["login.vue"],"sourcesContent":["<template>\n  <div class=\"vue-app-login-page\">\n    <div class=\"vue-app-login-page-header\">Hi, Welcome Back!</div>\n    <div class=\"vue-app-login-page-body\">\n      <form class=\"vue-app-login-page-form\" novalidate @submit.stop.prevent=\"onSubmit\">\n        <div class=\"vue-app-login-page-form-item\">\n          <input type=\"email\" v-model=\"form.email\" placeholder=\"Email\" />\n          <div class=\"vue-app-login-page-form-error\" v-if=\"formstate\">\n            <template v-if=\"!validation.form.email.required\">Email is required !</template>\n          </div>\n        </div>\n        <div class=\"vue-app-login-page-form-item\">\n          <input type=\"password\" v-model=\"form.password\" placeholder=\"Password\" />\n          <div class=\"vue-app-login-page-form-error\" v-if=\"formstate\">\n            <template v-if=\"!validation.form.password.required\">Password is required !</template>\n          </div>\n        </div>\n        <div class=\"vue-app-login-page-form-item\">\n          <button type=\"submit\">Login</button>\n        </div>\n      </form>\n    </div>\n    <div class=\"vue-app-login-page-footer\">\n      Don't have an account?\n      <router-link :to=\"{ name: 'Register' }\">Create a Free Account </router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex';\n  export default {\n    name: \"Register\",\n    data() {\n      return {\n        form: {\n          email: \"van100@gmail.com\",\n          password: \"123456\",\n          timezone: \"Asia/Bangkok\",\n          name: \"van\",\n        },\n        formstate: false,\n        is_loading: false,\n      };\n    },\n    computed: {\n      validation() {\n        const email = {\n          required: this.form.email ? true : false,\n        };\n        const password = {\n          required: this.form.password ? true : false,\n        };\n        return {\n          form:{\n            email,\n            password,\n          },\n          valid : email.required && password.required \n        };\n      },\n    },\n    methods: {\n      ...mapActions({\n        login : 'auth/login'\n      }),\n      onSubmit() {\n        this.formstate = true;\n        if( this.is_loading || !this.validation.valid ) return \n        this.is_loading = true \n        this.login(this.form).then((res)=>{\n          let { status  } = res \n          if( status ){\n            this.$router.push({\n              name : 'Dashboard'\n            })\n          }\n          this.is_loading = false\n        })\n        .catch((err)=>{\n          console.log(err);\n          this.is_loading = false \n        })\n      },\n    },\n  };\n</script>\n\n<style lang=\"scss\" scoped>\n  .vue-app-login-page {\n    &-header {\n      font-family: \"Poppins\";\n      font-style: normal;\n      font-weight: 700;\n      font-size: 38px;\n      color: #5b86e5;\n      margin-bottom: 20px;\n    }\n    &-body {\n    }\n    &-form {\n      &-item {\n        display: block;\n        margin-bottom: 20px;\n        position: relative;\n        input {\n          height: 32px;\n          display: block;\n          padding: 8px 12px;\n          background: #fff;\n          border: 1px solid #ccc;\n          font-size: 14px;\n          width: 100%;\n          &:focus {\n            box-shadow: none;\n            outline: none;\n            border-color: #5b86e5;\n          }\n        }\n        button {\n          display: block;\n          width: 100%;\n          padding: 8px 12px;\n          height: 32px;\n          text-align: center;\n          color: #fff;\n          background: #5b86e5;\n          border: 1px solid #5b86e5;\n        }\n      }\n      &-error {\n        color: #f2545d;\n      }\n    }\n  }\n</style>\n"]},"metadata":{},"sourceType":"module"}