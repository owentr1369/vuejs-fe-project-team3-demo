{"ast":null,"code":"import Register from \"./index\";\nexport default {\n  name: \"VueModal\",\n  props: {\n    allowedShow: {}\n  },\n\n  data() {\n    return {\n      is_loading: false,\n      closeable: true,\n      backdrop: true,\n      visible: false,\n      options: {\n        title: \"Default title\",\n        content: \"Default content\",\n        onOk: () => {}\n      }\n    };\n  },\n\n  methods: {\n    hideModal() {\n      this.visible = false;\n    },\n\n    onClickBackdrop() {\n      if (this.backdrop) {\n        this.hideModal();\n      }\n    },\n\n    onClickClose() {\n      if (this.closeable) {\n        this.hideModal();\n      }\n    },\n\n    async onClickVisible() {\n      this.visible_footer = true;\n      await this.$nextTick();\n      console.log(this.$refs.footer);\n    },\n\n    showModalConfirm(payload) {\n      console.log(\"showModalConfirm\");\n      console.log(payload);\n      this.options = { ...this.options,\n        ...payload\n      };\n      this.visible = true;\n    },\n\n    onClickOk() {\n      console.log(\"on click oke button\");\n\n      if (typeof this.options.onOk == \"function\") {\n        this.is_loading = true;\n        this.closeable = false;\n        this.backdrop = false;\n        Promise.resolve(this.options.onOk()).then(() => {\n          this.visible = false;\n          this.is_loading = false;\n          this.closeable = true;\n          this.backdrop = true;\n        });\n      } else {\n        this.visible = false;\n      }\n    }\n\n  },\n\n  created() {\n    Register.EventBus.$on(\"showModalConfirm\", this.showModalConfirm);\n  },\n\n  mounted() {\n    let body = document.querySelector(\"body\");\n    body.appendChild(this.$el);\n  },\n\n  beforeDestroy() {\n    this.$el.remove();\n    Register.EventBus.$off(\"showModalConfirm\", this.showModalConfirm);\n  }\n\n};","map":{"version":3,"mappings":"AA4BA;AACA;EACAA,gBADA;EAEAC;IACAC;EADA,CAFA;;EAKAC;IACA;MACAC,iBADA;MAEAC,eAFA;MAGAC,cAHA;MAIAC,cAJA;MAKAC;QACAC,sBADA;QAEAC,0BAFA;QAGAC;MAHA;IALA;EAWA,CAjBA;;EAkBAC;IACAC;MACA;IACA,CAHA;;IAIAC;MACA;QACA;MACA;IACA,CARA;;IASAC;MACA;QACA;MACA;IACA,CAbA;;IAcA;MACA;MACA;MACAC;IACA,CAlBA;;IAmBAC;MACAD;MACAA;MACA;QAAA;MAAA;MACA;IACA,CAxBA;;IAyBAE;MACAF;;MACA;QACA;QACA;QACA;QACAG;UACA;UACA;UACA;UACA;QACA,CALA;MAMA,CAVA,MAUA;QACA;MACA;IACA;;EAxCA,CAlBA;;EA4DAC;IACAC;EACA,CA9DA;;EA+DAC;IACA;IACAC;EACA,CAlEA;;EAmEAC;IACA;IACAH;EACA;;AAtEA","names":["name","props","allowedShow","data","is_loading","closeable","backdrop","visible","options","title","content","onOk","methods","hideModal","onClickBackdrop","onClickClose","console","showModalConfirm","onClickOk","Promise","created","Register","mounted","body","beforeDestroy"],"sourceRoot":"src/assets/vendor/vue-confirm","sources":["modal.vue"],"sourcesContent":["<template>\n  <div\n    class=\"vue-modal\"\n    :class=\"{ 'is-active': visible }\"\n    @click.self=\"onClickBackdrop\"\n  >\n    <div class=\"vue-modal-wrap\">\n      <div class=\"vue-modal-header\">\n        {{ options.title }}\n        <div class=\"vue-modal-close\" v-if=\"closeable\" @click=\"onClickClose\">\n          X\n        </div>\n      </div>\n      <div class=\"vue-modal-body\" ref=\"body\">\n        {{ options.content }}\n      </div>\n      <div class=\"vue-modal-footer\" ref=\"footer\">\n        <button @click=\"hideModal\">Cancel</button>\n        <button @click=\"onClickOk\">\n          <template v-if=\"is_loading\">loading ...</template>\n          <template v-else>Ok</template>\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Register from \"./index\";\nexport default {\n  name: \"VueModal\",\n  props: {\n    allowedShow: {},\n  },\n  data() {\n    return {\n      is_loading: false,\n      closeable: true,\n      backdrop: true,\n      visible: false,\n      options: {\n        title: \"Default title\",\n        content: \"Default content\",\n        onOk: () => {},\n      },\n    };\n  },\n  methods: {\n    hideModal() {\n      this.visible = false;\n    },\n    onClickBackdrop() {\n      if (this.backdrop) {\n        this.hideModal();\n      }\n    },\n    onClickClose() {\n      if (this.closeable) {\n        this.hideModal();\n      }\n    },\n    async onClickVisible() {\n      this.visible_footer = true;\n      await this.$nextTick();\n      console.log(this.$refs.footer);\n    },\n    showModalConfirm(payload) {\n      console.log(\"showModalConfirm\");\n      console.log(payload);\n      this.options = { ...this.options, ...payload };\n      this.visible = true;\n    },\n    onClickOk() {\n      console.log(\"on click oke button\");\n      if (typeof this.options.onOk == \"function\") {\n        this.is_loading = true;\n        this.closeable = false;\n        this.backdrop = false;\n        Promise.resolve(this.options.onOk()).then(() => {\n          this.visible = false;\n          this.is_loading = false;\n          this.closeable = true;\n          this.backdrop = true;\n        });\n      } else {\n        this.visible = false;\n      }\n    },\n  },\n  created() {\n    Register.EventBus.$on(\"showModalConfirm\", this.showModalConfirm);\n  },\n  mounted() {\n    let body = document.querySelector(\"body\");\n    body.appendChild(this.$el);\n  },\n  beforeDestroy() {\n    this.$el.remove();\n    Register.EventBus.$off(\"showModalConfirm\", this.showModalConfirm);\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.vue-modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  z-index: 999;\n  background: rgba(0, 0, 0, 0.5);\n  transition: all 0.3s ease;\n  opacity: 0;\n  visibility: hidden;\n  text-align: center;\n  overflow: hidden auto;\n  &:before {\n    display: inline-block;\n    width: 0;\n    height: 100%;\n    vertical-align: middle;\n    content: \"\";\n  }\n  &.is-active {\n    opacity: 1;\n    visibility: visible;\n  }\n  &-wrap {\n    top: 0;\n    display: inline-block;\n    vertical-align: middle;\n    width: 400px;\n    background: #ffffff;\n    text-align: left;\n  }\n  &-header {\n    padding: 12px 16px;\n    border-bottom: 1px solid #ccc;\n    position: relative;\n  }\n  &-body {\n    padding: 12px 16px;\n    min-height: 20px;\n  }\n  &-footer {\n    padding: 12px 16px;\n    border-top: 1px solid #ccc;\n    text-align: right;\n    button {\n      display: inline-block;\n      background: #fff;\n      border: 1px solid #ccc;\n      color: #000;\n      outline: none;\n      box-shadow: none;\n      padding: 6px 12px;\n      ~ button {\n        margin-left: 20px;\n      }\n    }\n  }\n  &-close {\n    position: absolute;\n    top: 15px;\n    right: 15px;\n    z-index: 1;\n    cursor: pointer;\n    opacity: 0.5;\n    &:hover {\n      opacity: 1;\n    }\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}